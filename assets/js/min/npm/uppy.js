(window.webpackJsonp=window.webpackJsonp||[]).push([[14],[function(t,e,n){function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t){var e="function"==typeof Map?new Map:void 0;return(i=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return s(t,arguments,u(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,t)})(t)}function s(t,e,n){return(s=a()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&l(o,n.prototype),o}).apply(null,arguments)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=n(4),c=n(8),d=n(27),h=n(5),f=n(3),g=n(30),m=n(32),y=n(33),v=n(10),b=n(35),w=n(36),S=n(37),P=S.justErrorsLogger,O=S.debugLogger,_=n(39),U=function(t){var e,n;function r(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).isRestriction=!0,e}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r}(i(Error)),A=function(){function t(t){var e=this;this.defaultLocale={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize2:"%{backwardsCompat} %{size}",exceedsSize:"This file exceeds maximum allowed size of",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noNewAlreadyUploading:"Cannot add new files: already uploading",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},selectAllFilesFromFolderNamed:"Select all files from folder %{name}",unselectAllFilesFromFolderNamed:"Unselect all files from folder %{name}",selectFileNamed:"Select file %{name}",unselectFileNamed:"Unselect file %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",backToSearch:"Back to Search",emptyFolderAdded:"No files were added from empty folder",folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"}}};var n={id:"uppy",autoProceed:!1,allowMultipleUploads:!0,debug:!1,restrictions:{maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null},meta:{},onBeforeFileAdded:function(t,e){return t},onBeforeUpload:function(t){return t},store:m(),logger:P,infoTimeout:5e3};if(this.opts=r({},n,t,{restrictions:r({},n.restrictions,t&&t.restrictions)}),t&&t.logger&&t.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):t&&t.debug&&(this.opts.logger=O),this.log("Using Core v"+this.constructor.VERSION),this.opts.restrictions.allowedFileTypes&&null!==this.opts.restrictions.allowedFileTypes&&!Array.isArray(this.opts.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");this.i18nInit(),this.plugins={},this.getState=this.getState.bind(this),this.getPlugin=this.getPlugin.bind(this),this.setFileMeta=this.setFileMeta.bind(this),this.setFileState=this.setFileState.bind(this),this.log=this.log.bind(this),this.info=this.info.bind(this),this.hideInfo=this.hideInfo.bind(this),this.addFile=this.addFile.bind(this),this.removeFile=this.removeFile.bind(this),this.pauseResume=this.pauseResume.bind(this),this.validateRestrictions=this.validateRestrictions.bind(this),this._calculateProgress=h(this._calculateProgress.bind(this),500,{leading:!0,trailing:!0}),this.updateOnlineStatus=this.updateOnlineStatus.bind(this),this.resetProgress=this.resetProgress.bind(this),this.pauseAll=this.pauseAll.bind(this),this.resumeAll=this.resumeAll.bind(this),this.retryAll=this.retryAll.bind(this),this.cancelAll=this.cancelAll.bind(this),this.retryUpload=this.retryUpload.bind(this),this.upload=this.upload.bind(this),this.emitter=c(),this.on=this.on.bind(this),this.off=this.off.bind(this),this.once=this.emitter.once.bind(this.emitter),this.emit=this.emitter.emit.bind(this.emitter),this.preProcessors=[],this.uploaders=[],this.postProcessors=[],this.store=this.opts.store,this.setState({plugins:{},files:{},currentUploads:{},allowNewUpload:!0,capabilities:{uploadProgress:w(),individualCancellation:!0,resumableUploads:!1},totalProgress:0,meta:r({},this.opts.meta),info:{isHidden:!0,type:"info",message:""}}),this._storeUnsubscribe=this.store.subscribe((function(t,n,r){e.emit("state-update",t,n,r),e.updateAll(n)})),this.opts.debug&&"undefined"!=typeof window&&(window[this.opts.id]=this),this._addListeners()}var e,n,i,s=t.prototype;return s.on=function(t,e){return this.emitter.on(t,e),this},s.off=function(t,e){return this.emitter.off(t,e),this},s.updateAll=function(t){this.iteratePlugins((function(e){e.update(t)}))},s.setState=function(t){this.store.setState(t)},s.getState=function(){return this.store.getState()},s.setFileState=function(t,e){var n;if(!this.getState().files[t])throw new Error("Canâ€™t set state for "+t+" (the file could have been removed)");this.setState({files:r({},this.getState().files,(n={},n[t]=r({},this.getState().files[t],e),n))})},s.i18nInit=function(){this.translator=new p([this.defaultLocale,this.opts.locale]),this.locale=this.translator.locale,this.i18n=this.translator.translate.bind(this.translator),this.i18nArray=this.translator.translateArray.bind(this.translator)},s.setOptions=function(t){this.opts=r({},this.opts,t,{restrictions:r({},this.opts.restrictions,t&&t.restrictions)}),t.meta&&this.setMeta(t.meta),this.i18nInit(),t.locale&&this.iteratePlugins((function(t){t.setOptions()})),this.setState()},s.resetProgress=function(){var t={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},e=r({},this.getState().files),n={};Object.keys(e).forEach((function(o){var i=r({},e[o]);i.progress=r({},i.progress,t),n[o]=i})),this.setState({files:n,totalProgress:0}),this.emit("reset-progress")},s.addPreProcessor=function(t){this.preProcessors.push(t)},s.removePreProcessor=function(t){var e=this.preProcessors.indexOf(t);-1!==e&&this.preProcessors.splice(e,1)},s.addPostProcessor=function(t){this.postProcessors.push(t)},s.removePostProcessor=function(t){var e=this.postProcessors.indexOf(t);-1!==e&&this.postProcessors.splice(e,1)},s.addUploader=function(t){this.uploaders.push(t)},s.removeUploader=function(t){var e=this.uploaders.indexOf(t);-1!==e&&this.uploaders.splice(e,1)},s.setMeta=function(t){var e=r({},this.getState().meta,t),n=r({},this.getState().files);Object.keys(n).forEach((function(e){n[e]=r({},n[e],{meta:r({},n[e].meta,t)})})),this.log("Adding metadata:"),this.log(t),this.setState({meta:e,files:n})},s.setFileMeta=function(t,e){var n=r({},this.getState().files);if(n[t]){var o=r({},n[t].meta,e);n[t]=r({},n[t],{meta:o}),this.setState({files:n})}else this.log("Was trying to set metadata for a file that has been removed: ",t)},s.getFile=function(t){return this.getState().files[t]},s.getFiles=function(){var t=this.getState().files;return Object.keys(t).map((function(e){return t[e]}))},s.validateRestrictions=function(t,e){try{return this._checkRestrictions(t,e),{result:!0}}catch(t){return{result:!1,reason:t.message}}},s._checkRestrictions=function(t,e){void 0===e&&(e=this.getFiles());var n=this.opts.restrictions,r=n.maxFileSize,o=n.minFileSize,i=n.maxTotalFileSize,s=n.maxNumberOfFiles,a=n.allowedFileTypes;if(s&&e.length+1>s)throw new U(""+this.i18n("youCanOnlyUploadX",{smart_count:s}));if(a&&!a.some((function(e){return e.indexOf("/")>-1?!!t.type&&g(t.type.replace(/;.*?$/,""),e):!("."!==e[0]||!t.extension)&&t.extension.toLowerCase()===e.substr(1).toLowerCase()}))){var l=a.join(", ");throw new U(this.i18n("youCanOnlyUploadFileTypes",{types:l}))}if(i&&null!=t.size){var u=0;if(u+=t.size,e.forEach((function(t){u+=t.size})),u>i)throw new U(this.i18n("exceedsSize2",{backwardsCompat:this.i18n("exceedsSize"),size:f(i)}))}if(r&&null!=t.size&&t.size>r)throw new U(this.i18n("exceedsSize2",{backwardsCompat:this.i18n("exceedsSize"),size:f(r)}));if(o&&null!=t.size&&t.size<o)throw new U(this.i18n("inferiorSize",{size:f(o)}))},s._checkMinNumberOfFiles=function(t){var e=this.opts.restrictions.minNumberOfFiles;if(Object.keys(t).length<e)throw new U(""+this.i18n("youHaveToAtLeastSelectX",{smart_count:e}))},s._showOrLogErrorAndThrow=function(t,e){var n=void 0===e?{}:e,r=n.showInformer,o=void 0===r||r,i=n.file,s=void 0===i?null:i,a=n.throwErr,l=void 0===a||a,u="object"==typeof t?t.message:t,p="object"==typeof t&&t.details?t.details:"",c=u;if(p&&(c+=" "+p),t.isRestriction?(this.log(c),this.emit("restriction-failed",s,t)):this.log(c,"error"),o&&this.info({message:u,details:p},"error",this.opts.infoTimeout),l)throw"object"==typeof t?t:new Error(t)},s._assertNewUploadAllowed=function(t){!1===this.getState().allowNewUpload&&this._showOrLogErrorAndThrow(new U(this.i18n("noNewAlreadyUploading")),{file:t})},s._checkAndCreateFileStateObject=function(t,e){var n=y(e);e.type=n;var o,i=this.opts.onBeforeFileAdded(e,t);!1===i&&this._showOrLogErrorAndThrow(new U("Cannot add the file because onBeforeFileAdded returned false."),{showInformer:!1,file:e}),"object"==typeof i&&i&&(e=i),o=e.name?e.name:"image"===n.split("/")[0]?n.split("/")[0]+"."+n.split("/")[1]:"noname";var s=v(o).extension,a=e.isRemote||!1,l=b(e);t[l]&&this._showOrLogErrorAndThrow(new U(this.i18n("noDuplicates",{fileName:o})),{file:e});var u=e.meta||{};u.name=o,u.type=n;var p=isFinite(e.data.size)?e.data.size:null,c={source:e.source||"",id:l,name:o,extension:s||"",meta:r({},this.getState().meta,u),type:n,data:e.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:p,uploadComplete:!1,uploadStarted:null},size:p,isRemote:a,remote:e.remote||"",preview:e.preview};try{var d=Object.keys(t).map((function(e){return t[e]}));this._checkRestrictions(c,d)}catch(t){this._showOrLogErrorAndThrow(t,{file:c})}return c},s._startIfAutoProceed=function(){var t=this;this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout((function(){t.scheduledAutoProceed=null,t.upload().catch((function(e){e.isRestriction||t.log(e.stack||e.message||e)}))}),4))},s.addFile=function(t){var e;this._assertNewUploadAllowed(t);var n=this.getState().files,o=this._checkAndCreateFileStateObject(n,t);return this.setState({files:r({},n,(e={},e[o.id]=o,e))}),this.emit("file-added",o),this.emit("files-added",[o]),this.log("Added file: "+o.name+", "+o.id+", mime type: "+o.type),this._startIfAutoProceed(),o.id},s.addFiles=function(t){var e=this;this._assertNewUploadAllowed();for(var n=r({},this.getState().files),o=[],i=[],s=0;s<t.length;s++)try{var a=this._checkAndCreateFileStateObject(n,t[s]);o.push(a),n[a.id]=a}catch(u){u.isRestriction||i.push(u)}if(this.setState({files:n}),o.forEach((function(t){e.emit("file-added",t)})),this.emit("files-added",o),o.length>5?this.log("Added batch of "+o.length+" files"):Object.keys(o).forEach((function(t){e.log("Added file: "+o[t].name+"\n id: "+o[t].id+"\n type: "+o[t].type)})),o.length>0&&this._startIfAutoProceed(),i.length>0){var l="Multiple errors occurred while adding files:\n";i.forEach((function(t){l+="\n * "+t.message})),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:i.length}),details:l},"error",this.opts.infoTimeout);var u=new Error(l);throw u.errors=i,u}},s.removeFiles=function(t,e){var n=this,o=this.getState(),i=o.files,s=o.currentUploads,a=r({},i),l=r({},s),u=Object.create(null);function p(t){return void 0===u[t]}t.forEach((function(t){i[t]&&(u[t]=i[t],delete a[t])}));var c=[];Object.keys(l).forEach((function(t){var e=s[t].fileIDs.filter(p);0!==e.length?l[t]=r({},s[t],{fileIDs:e}):c.push(t)})),c.forEach((function(t){delete l[t]}));var d={currentUploads:l,files:a};0===Object.keys(a).length&&(d.allowNewUpload=!0,d.error=null),this.setState(d),this._calculateTotalProgress();var h=Object.keys(u);h.forEach((function(t){n.emit("file-removed",u[t],e)})),h.length>5?this.log("Removed "+h.length+" files"):this.log("Removed files: "+h.join(", "))},s.removeFile=function(t,e){void 0===e&&(e=null),this.removeFiles([t],e)},s.pauseResume=function(t){if(this.getState().capabilities.resumableUploads&&!this.getFile(t).uploadComplete){var e=!(this.getFile(t).isPaused||!1);return this.setFileState(t,{isPaused:e}),this.emit("upload-pause",t,e),e}},s.pauseAll=function(){var t=r({},this.getState().files);Object.keys(t).filter((function(e){return!t[e].progress.uploadComplete&&t[e].progress.uploadStarted})).forEach((function(e){var n=r({},t[e],{isPaused:!0});t[e]=n})),this.setState({files:t}),this.emit("pause-all")},s.resumeAll=function(){var t=r({},this.getState().files);Object.keys(t).filter((function(e){return!t[e].progress.uploadComplete&&t[e].progress.uploadStarted})).forEach((function(e){var n=r({},t[e],{isPaused:!1,error:null});t[e]=n})),this.setState({files:t}),this.emit("resume-all")},s.retryAll=function(){var t=r({},this.getState().files),e=Object.keys(t).filter((function(e){return t[e].error}));if(e.forEach((function(e){var n=r({},t[e],{isPaused:!1,error:null});t[e]=n})),this.setState({files:t,error:null}),this.emit("retry-all",e),0===e.length)return Promise.resolve({successful:[],failed:[]});var n=this._createUpload(e,{forceAllowNewUpload:!0});return this._runUpload(n)},s.cancelAll=function(){this.emit("cancel-all");var t=this.getState().files,e=Object.keys(t);e.length&&this.removeFiles(e,"cancel-all"),this.setState({totalProgress:0,error:null})},s.retryUpload=function(t){this.setFileState(t,{error:null,isPaused:!1}),this.emit("upload-retry",t);var e=this._createUpload([t],{forceAllowNewUpload:!0});return this._runUpload(e)},s.reset=function(){this.cancelAll()},s._calculateProgress=function(t,e){if(this.getFile(t.id)){var n=isFinite(e.bytesTotal)&&e.bytesTotal>0;this.setFileState(t.id,{progress:r({},this.getFile(t.id).progress,{bytesUploaded:e.bytesUploaded,bytesTotal:e.bytesTotal,percentage:n?Math.round(e.bytesUploaded/e.bytesTotal*100):0})}),this._calculateTotalProgress()}else this.log("Not setting progress for a file that has been removed: "+t.id)},s._calculateTotalProgress=function(){var t=this.getFiles().filter((function(t){return t.progress.uploadStarted||t.progress.preprocess||t.progress.postprocess}));if(0===t.length)return this.emit("progress",0),void this.setState({totalProgress:0});var e=t.filter((function(t){return null!=t.progress.bytesTotal})),n=t.filter((function(t){return null==t.progress.bytesTotal}));if(0!==e.length){var r=e.reduce((function(t,e){return t+e.progress.bytesTotal}),0),o=r/e.length;r+=o*n.length;var i=0;e.forEach((function(t){i+=t.progress.bytesUploaded})),n.forEach((function(t){i+=o*(t.progress.percentage||0)/100}));var s=0===r?0:Math.round(i/r*100);s>100&&(s=100),this.setState({totalProgress:s}),this.emit("progress",s)}else{var a=100*t.length,l=n.reduce((function(t,e){return t+e.progress.percentage}),0),u=Math.round(l/a*100);this.setState({totalProgress:u})}},s._addListeners=function(){var t=this;this.on("error",(function(e){var n="Unknown error";e.message&&(n=e.message),e.details&&(n+=" "+e.details),t.setState({error:n})})),this.on("upload-error",(function(e,n,r){var o="Unknown error";if(n.message&&(o=n.message),n.details&&(o+=" "+n.details),t.setFileState(e.id,{error:o,response:r}),t.setState({error:n.message}),"object"==typeof n&&n.message){var i=new Error(n.message);i.details=n.message,n.details&&(i.details+=" "+n.details),i.message=t.i18n("failedToUpload",{file:e.name}),t._showOrLogErrorAndThrow(i,{throwErr:!1})}else t._showOrLogErrorAndThrow(n,{throwErr:!1})})),this.on("upload",(function(){t.setState({error:null})})),this.on("upload-started",(function(e,n){t.getFile(e.id)?t.setFileState(e.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:e.size}}):t.log("Not setting progress for a file that has been removed: "+e.id)})),this.on("upload-progress",this._calculateProgress),this.on("upload-success",(function(e,n){if(t.getFile(e.id)){var o=t.getFile(e.id).progress;t.setFileState(e.id,{progress:r({},o,{postprocess:t.postProcessors.length>0?{mode:"indeterminate"}:null,uploadComplete:!0,percentage:100,bytesUploaded:o.bytesTotal}),response:n,uploadURL:n.uploadURL,isPaused:!1}),t._calculateTotalProgress()}else t.log("Not setting progress for a file that has been removed: "+e.id)})),this.on("preprocess-progress",(function(e,n){t.getFile(e.id)?t.setFileState(e.id,{progress:r({},t.getFile(e.id).progress,{preprocess:n})}):t.log("Not setting progress for a file that has been removed: "+e.id)})),this.on("preprocess-complete",(function(e){if(t.getFile(e.id)){var n=r({},t.getState().files);n[e.id]=r({},n[e.id],{progress:r({},n[e.id].progress)}),delete n[e.id].progress.preprocess,t.setState({files:n})}else t.log("Not setting progress for a file that has been removed: "+e.id)})),this.on("postprocess-progress",(function(e,n){t.getFile(e.id)?t.setFileState(e.id,{progress:r({},t.getState().files[e.id].progress,{postprocess:n})}):t.log("Not setting progress for a file that has been removed: "+e.id)})),this.on("postprocess-complete",(function(e){if(t.getFile(e.id)){var n=r({},t.getState().files);n[e.id]=r({},n[e.id],{progress:r({},n[e.id].progress)}),delete n[e.id].progress.postprocess,t.setState({files:n})}else t.log("Not setting progress for a file that has been removed: "+e.id)})),this.on("restored",(function(){t._calculateTotalProgress()})),"undefined"!=typeof window&&window.addEventListener&&(window.addEventListener("online",(function(){return t.updateOnlineStatus()})),window.addEventListener("offline",(function(){return t.updateOnlineStatus()})),setTimeout((function(){return t.updateOnlineStatus()}),3e3))},s.updateOnlineStatus=function(){void 0===window.navigator.onLine||window.navigator.onLine?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)},s.getID=function(){return this.opts.id},s.use=function(t,e){if("function"!=typeof t)throw new TypeError("Expected a plugin class, but got "+(null===t?"null":typeof t)+". Please verify that the plugin was imported and spelled correctly.");var n=new t(this,e),r=n.id;if(this.plugins[n.type]=this.plugins[n.type]||[],!r)throw new Error("Your plugin must have an id");if(!n.type)throw new Error("Your plugin must have a type");var o=this.getPlugin(r);if(o){var i="Already found a plugin named '"+o.id+"'. Tried to use: '"+r+"'.\nUppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.";throw new Error(i)}return t.VERSION&&this.log("Using "+r+" v"+t.VERSION),this.plugins[n.type].push(n),n.install(),this},s.getPlugin=function(t){var e=null;return this.iteratePlugins((function(n){if(n.id===t)return e=n,!1})),e},s.iteratePlugins=function(t){var e=this;Object.keys(this.plugins).forEach((function(n){e.plugins[n].forEach(t)}))},s.removePlugin=function(t){this.log("Removing plugin "+t.id),this.emit("plugin-remove",t),t.uninstall&&t.uninstall();var e=this.plugins[t.type].slice(),n=e.indexOf(t);-1!==n&&(e.splice(n,1),this.plugins[t.type]=e);var r=this.getState();delete r.plugins[t.id],this.setState(r)},s.close=function(){var t=this;this.log("Closing Uppy instance "+this.opts.id+": removing all files and uninstalling plugins"),this.reset(),this._storeUnsubscribe(),this.iteratePlugins((function(e){t.removePlugin(e)}))},s.info=function(t,e,n){void 0===e&&(e="info"),void 0===n&&(n=3e3);var r="object"==typeof t;this.setState({info:{isHidden:!1,type:e,message:r?t.message:t,details:r?t.details:null}}),this.emit("info-visible"),clearTimeout(this.infoTimeoutID),this.infoTimeoutID=0!==n?setTimeout(this.hideInfo,n):void 0},s.hideInfo=function(){var t=r({},this.getState().info,{isHidden:!0});this.setState({info:t}),this.emit("info-hidden")},s.log=function(t,e){var n=this.opts.logger;switch(e){case"error":n.error(t);break;case"warning":n.warn(t);break;default:n.debug(t)}},s.run=function(){return this.log("Calling run() is no longer necessary.","warning"),this},s.restore=function(t){return this.log('Core: attempting to restore upload "'+t+'"'),this.getState().currentUploads[t]?this._runUpload(t):(this._removeUpload(t),Promise.reject(new Error("Nonexistent upload")))},s._createUpload=function(t,e){var n;void 0===e&&(e={});var o=e.forceAllowNewUpload,i=void 0!==o&&o,s=this.getState(),a=s.allowNewUpload,l=s.currentUploads;if(!a&&!i)throw new Error("Cannot create a new upload: already uploading.");var u=d();return this.emit("upload",{id:u,fileIDs:t}),this.setState({allowNewUpload:!1!==this.opts.allowMultipleUploads,currentUploads:r({},l,(n={},n[u]={fileIDs:t,step:0,result:{}},n))}),u},s._getUpload=function(t){return this.getState().currentUploads[t]},s.addResultData=function(t,e){var n;if(this._getUpload(t)){var o=this.getState().currentUploads,i=r({},o[t],{result:r({},o[t].result,e)});this.setState({currentUploads:r({},o,(n={},n[t]=i,n))})}else this.log("Not setting result for an upload that has been removed: "+t)},s._removeUpload=function(t){var e=r({},this.getState().currentUploads);delete e[t],this.setState({currentUploads:e})},s._runUpload=function(t){var e=this,n=this.getState().currentUploads[t].step,o=[].concat(this.preProcessors,this.uploaders,this.postProcessors),i=Promise.resolve();return o.forEach((function(o,s){s<n||(i=i.then((function(){var n,i=e.getState().currentUploads,a=i[t];if(a){var l=r({},a,{step:s});return e.setState({currentUploads:r({},i,(n={},n[t]=l,n))}),o(l.fileIDs,t)}})).then((function(t){return null})))})),i.catch((function(n){e.emit("error",n,t),e._removeUpload(t)})),i.then((function(){var n=e.getState().currentUploads[t];if(n){var r=n.fileIDs.map((function(t){return e.getFile(t)})),o=r.filter((function(t){return!t.error})),i=r.filter((function(t){return t.error}));e.addResultData(t,{successful:o,failed:i,uploadID:t})}})).then((function(){var n=e.getState().currentUploads;if(n[t]){var r=n[t].result;return e.emit("complete",r),e._removeUpload(t),r}})).then((function(n){return null==n&&e.log("Not setting result for an upload that has been removed: "+t),n}))},s.upload=function(){var t=this;this.plugins.uploader||this.log("No uploader type plugins are used","warning");var e=this.getState().files,n=this.opts.onBeforeUpload(e);return!1===n?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(n&&"object"==typeof n&&(e=n,this.setState({files:e})),Promise.resolve().then((function(){return t._checkMinNumberOfFiles(e)})).catch((function(e){t._showOrLogErrorAndThrow(e)})).then((function(){var n=t.getState().currentUploads,r=Object.keys(n).reduce((function(t,e){return t.concat(n[e].fileIDs)}),[]),o=[];Object.keys(e).forEach((function(e){var n=t.getFile(e);n.progress.uploadStarted||-1!==r.indexOf(e)||o.push(n.id)}));var i=t._createUpload(o);return t._runUpload(i)})).catch((function(e){t._showOrLogErrorAndThrow(e,{showInformer:!1})})))},e=t,(n=[{key:"state",get:function(){return this.getState()}}])&&o(e.prototype,n),i&&o(e,i),t}();A.VERSION="1.15.0",t.exports=function(t){return new A(t)},t.exports.Uppy=A,t.exports.Plugin=_,t.exports.debugLogger=O},,,,function(t,e,n){function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var o=n(7);t.exports=function(){function t(t){var e=this;this.locale={strings:{},pluralize:function(t){return 1===t?0:1}},Array.isArray(t)?t.forEach((function(t){return e._apply(t)})):this._apply(t)}var e=t.prototype;return e._apply=function(t){if(t&&t.strings){var e=this.locale;this.locale=r({},e,{strings:r({},e.strings,t.strings)}),this.locale.pluralize=t.pluralize||e.pluralize}}
/**
   * Takes a string with placeholder variables like `%{smart_count} file selected`
   * and replaces it with values from options `{smart_count: 5}`
   *
   * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
   * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
   *
   * @param {string} phrase that needs interpolation, with placeholders
   * @param {object} options with values that will be used to replace placeholders
   * @returns {string} interpolated
   */,e.interpolate=function(t,e){var n=String.prototype,r=n.split,i=n.replace,s=/\$/g,a=[t];for(var l in e)if("_"!==l&&o(e,l)){var u=e[l];"string"==typeof u&&(u=i.call(e[l],s,"$$$$")),a=p(a,new RegExp("%\\{"+l+"\\}","g"),u)}return a;function p(t,e,n){var o=[];return t.forEach((function(t){if("string"!=typeof t)return o.push(t);r.call(t,e).forEach((function(t,e,r){""!==t&&o.push(t),e<r.length-1&&o.push(n)}))})),o}},e.translate=function(t,e){return this.translateArray(t,e).join("")},e.translateArray=function(t,e){if(!o(this.locale.strings,t))throw new Error("missing string: "+t);var n=this.locale.strings[t];if("object"==typeof n){if(e&&void 0!==e.smart_count){var r=this.locale.pluralize(e.smart_count);return this.interpolate(n[r],e)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}return this.interpolate(n,e)},t}()},,function(t,e,n){"use strict";var r,o;function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=n(46),l=n(47);t.exports=(o=r=function(){function t(t,e){this.uppy=t,this.opts=e,this.onReceiveResponse=this.onReceiveResponse.bind(this),this.allowedHeaders=["accept","content-type","uppy-auth-token"],this.preflightDone=!1}var e,n,r,o=t.prototype;return o.headers=function(){var t=this.opts.companionHeaders||this.opts.serverHeaders||{};return Promise.resolve(i({},this.defaultHeaders,t))},o._getPostResponseFunc=function(t){var e=this;return function(n){return t?n:e.onReceiveResponse(n)}},o.onReceiveResponse=function(t){var e,n=this.uppy.getState().companion||{},r=this.opts.companionUrl,o=t.headers;o.has("i-am")&&o.get("i-am")!==n[r]&&this.uppy.setState({companion:i({},n,(e={},e[r]=o.get("i-am"),e))});return t},o._getUrl=function(t){return/^(https?:|)\/\//.test(t)?t:this.hostname+"/"+t},o._json=function(t){if(401===t.status)throw new a;if(t.status<200||t.status>300){var e="Failed request with status: "+t.status+". "+t.statusText;return t.json().then((function(t){throw e=t.message?e+" message: "+t.message:e,e=t.requestId?e+" request-Id: "+t.requestId:e,new Error(e)})).catch((function(){throw new Error(e)}))}return t.json()},o.preflight=function(t){var e=this;return this.preflightDone?Promise.resolve(this.allowedHeaders.slice()):fetch(this._getUrl(t),{method:"OPTIONS"}).then((function(t){return t.headers.has("access-control-allow-headers")&&(e.allowedHeaders=t.headers.get("access-control-allow-headers").split(",").map((function(t){return t.trim().toLowerCase()}))),e.preflightDone=!0,e.allowedHeaders.slice()})).catch((function(t){return e.uppy.log("[CompanionClient] unable to make preflight request "+t,"warning"),e.preflightDone=!0,e.allowedHeaders.slice()}))},o.preflightAndHeaders=function(t){var e=this;return Promise.all([this.preflight(t),this.headers()]).then((function(t){var n=t[0],r=t[1];return Object.keys(r).forEach((function(t){-1===n.indexOf(t.toLowerCase())&&(e.uppy.log("[CompanionClient] excluding unallowed header "+t),delete r[t])})),r}))},o.get=function(t,e){var n=this;return this.preflightAndHeaders(t).then((function(e){return l(n._getUrl(t),{method:"get",headers:e,credentials:"same-origin"})})).then(this._getPostResponseFunc(e)).then((function(t){return n._json(t)})).catch((function(e){return e=e.isAuthError?e:new Error("Could not get "+n._getUrl(t)+". "+e),Promise.reject(e)}))},o.post=function(t,e,n){var r=this;return this.preflightAndHeaders(t).then((function(n){return l(r._getUrl(t),{method:"post",headers:n,credentials:"same-origin",body:JSON.stringify(e)})})).then(this._getPostResponseFunc(n)).then((function(t){return r._json(t)})).catch((function(e){return e=e.isAuthError?e:new Error("Could not post "+r._getUrl(t)+". "+e),Promise.reject(e)}))},o.delete=function(t,e,n){var r=this;return this.preflightAndHeaders(t).then((function(n){return l(r.hostname+"/"+t,{method:"delete",headers:n,credentials:"same-origin",body:e?JSON.stringify(e):null})})).then(this._getPostResponseFunc(n)).then((function(t){return r._json(t)})).catch((function(e){return e=e.isAuthError?e:new Error("Could not delete "+r._getUrl(t)+". "+e),Promise.reject(e)}))},e=t,(n=[{key:"hostname",get:function(){var t=this.uppy.getState().companion,e=this.opts.companionUrl;return(t&&t[e]?t[e]:e).replace(/\/$/,"")}},{key:"defaultHeaders",get:function(){return{Accept:"application/json","Content-Type":"application/json","Uppy-Versions":"@uppy/companion-client="+t.VERSION}}}])&&s(e.prototype,n),r&&s(e,r),t}(),r.VERSION="1.7.0",o)},function(t,e){t.exports=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}},,,function(t,e){t.exports=function(t){var e=t.lastIndexOf(".");return-1===e||e===t.length-1?{name:t,extension:void 0}:{name:t.slice(0,e),extension:t.slice(e+1)}}},function(t,e){function n(t){var e="function"==typeof Map?new Map:void 0;return(n=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,o)}function o(){return r(t,arguments,s(this).constructor)}return o.prototype=Object.create(t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),i(o,t)})(t)}function r(t,e,n){return(r=o()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&i(o,n.prototype),o}).apply(null,arguments)}function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var a=function(t){var e,n;function r(e,n){var r;return void 0===n&&(n=null),(r=t.call(this,"This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.\n\nSource error: ["+e+"]")||this).isNetworkError=!0,r.request=n,r}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r}(n(Error));t.exports=a},function(t,e){t.exports={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"}},,function(t,e,n){var r,o;function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var a=n(0).Plugin,l=n(42),u=n(4),p=n(2).h;t.exports=(o=r=function(t){var e,n;function r(e,n){var r;(r=t.call(this,e,n)||this).id=r.opts.id||"FileInput",r.title="File Input",r.type="acquirer",r.defaultLocale={strings:{chooseFiles:"Choose files"}};return r.opts=i({},{target:null,pretty:!0,inputName:"files[]"},n),r.i18nInit(),r.render=r.render.bind(s(r)),r.handleInputChange=r.handleInputChange.bind(s(r)),r.handleClick=r.handleClick.bind(s(r)),r}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.setOptions=function(e){t.prototype.setOptions.call(this,e),this.i18nInit()},o.i18nInit=function(){this.translator=new u([this.defaultLocale,this.uppy.locale,this.opts.locale]),this.i18n=this.translator.translate.bind(this.translator),this.i18nArray=this.translator.translateArray.bind(this.translator),this.setPluginState()},o.addFiles=function(t){var e=this,n=t.map((function(t){return{source:e.id,name:t.name,type:t.type,data:t}}));try{this.uppy.addFiles(n)}catch(t){this.uppy.log(t)}},o.handleInputChange=function(t){this.uppy.log("[FileInput] Something selected through input...");var e=l(t.target.files);this.addFiles(e),t.target.value=null},o.handleClick=function(t){this.input.click()},o.render=function(t){var e=this,n=this.uppy.opts.restrictions,r=n.allowedFileTypes?n.allowedFileTypes.join(","):null;return p("div",{class:"uppy-Root uppy-FileInput-container"},p("input",{class:"uppy-FileInput-input",style:this.opts.pretty&&{width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},type:"file",name:this.opts.inputName,onchange:this.handleInputChange,multiple:1!==n.maxNumberOfFiles,accept:r,ref:function(t){e.input=t}}),this.opts.pretty&&p("button",{class:"uppy-FileInput-btn",type:"button",onclick:this.handleClick},this.i18n("chooseFiles")))},o.install=function(){var t=this.opts.target;t&&this.mount(t,this)},o.uninstall=function(){this.unmount()},r}(a),r.VERSION="1.4.20",o)},function(t,e,n){var r,o;function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var a=n(0).Plugin,l=n(13),u=n(45),p=u.Provider,c=u.RequestClient,d=u.Socket,h=n(52),f=n(53),g=n(54),m=n(55),y=n(11),v=n(56),b=n(57),w=n(7),S=n(58),P={endpoint:"",uploadUrl:null,metadata:{},uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,overridePatchMethod:!1,headers:{},addRequestId:!1,chunkSize:1/0,retryDelays:[0,1e3,3e3,5e3],parallelUploads:1,storeFingerprintForResuming:!0,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1};t.exports=(o=r=function(t){var e,n;function r(e,n){var r;(r=t.call(this,e,n)||this).type="uploader",r.id=r.opts.id||"Tus",r.title="Tus";return r.opts=i({},{autoRetry:!0,resume:!0,useFastRemoteRetry:!0,limit:0,retryDelays:[0,1e3,3e3,5e3],withCredentials:!1},n),r.requests=new b(r.opts.limit),r.uploaders=Object.create(null),r.uploaderEvents=Object.create(null),r.uploaderSockets=Object.create(null),r.handleResetProgress=r.handleResetProgress.bind(s(r)),r.handleUpload=r.handleUpload.bind(s(r)),r}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.handleResetProgress=function(){var t=i({},this.uppy.getState().files);Object.keys(t).forEach((function(e){if(t[e].tus&&t[e].tus.uploadUrl){var n=i({},t[e].tus);delete n.uploadUrl,t[e]=i({},t[e],{tus:n})}})),this.uppy.setState({files:t})},o.resetUploaderReferences=function(t,e){if(void 0===e&&(e={}),this.uploaders[t]){var n=this.uploaders[t];n.abort(),e.abort&&setTimeout((function(){return n.abort(!0)}),1e3),this.uploaders[t]=null}this.uploaderEvents[t]&&(this.uploaderEvents[t].remove(),this.uploaderEvents[t]=null),this.uploaderSockets[t]&&(this.uploaderSockets[t].close(),this.uploaderSockets[t]=null)},o.upload=function(t,e,n){var r=this;return this.resetUploaderReferences(t.id),new Promise((function(e,n){r.uppy.emit("upload-started",t);var o=i({},r.opts,t.tus||{}),s=i({},P,o);delete s.resume,o.resume&&(s.storeFingerprintForResuming=!0),s.fingerprint=S(t),s.onBeforeRequest=function(t){t.getUnderlyingObject().withCredentials=!!o.withCredentials,"function"==typeof o.onBeforeRequest&&o.onBeforeRequest(t)},s.onError=function(e){r.uppy.log(e);var o=e.originalRequest?e.originalRequest.getUnderlyingObject():null;v(o)&&(e=new y(e,o)),r.resetUploaderReferences(t.id),c.done(),r.uppy.emit("upload-error",t,e),n(e)},s.onProgress=function(e,n){r.onReceiveUploadUrl(t,p.url),r.uppy.emit("upload-progress",t,{uploader:r,bytesUploaded:e,bytesTotal:n})},s.onSuccess=function(){var n={uploadURL:p.url};r.resetUploaderReferences(t.id),c.done(),r.uppy.emit("upload-success",t,n),p.url&&r.uppy.log("Download "+p.file.name+" from "+p.url),e(p)};var a=function(t,e,n){w(t,e)&&!w(t,n)&&(t[n]=t[e])},u={};(Array.isArray(o.metaFields)?o.metaFields:Object.keys(t.meta)).forEach((function(e){u[e]=t.meta[e]})),a(u,"type","filetype"),a(u,"name","filename"),s.metadata=u;var p=new l.Upload(t.data,s);r.uploaders[t.id]=p,r.uploaderEvents[t.id]=new m(r.uppy),o.resume&&p.findPreviousUploads().then((function(e){var n=e[0];n&&(r.uppy.log("[Tus] Resuming upload of "+t.id+" started at "+n.creationTime),p.resumeFromPreviousUpload(n))}));var c=r.requests.run((function(){return t.isPaused||Promise.resolve().then((function(){p.start()})),function(){}}));r.onFileRemove(t.id,(function(n){c.abort(),r.resetUploaderReferences(t.id,{abort:!!p.url}),e("upload "+n+" was removed")})),r.onPause(t.id,(function(t){t?(c.abort(),p.abort()):(c.abort(),c=r.requests.run((function(){return p.start(),function(){}})))})),r.onPauseAll(t.id,(function(){c.abort(),p.abort()})),r.onCancelAll(t.id,(function(){c.abort(),r.resetUploaderReferences(t.id,{abort:!!p.url}),e("upload "+t.id+" was canceled")})),r.onResumeAll(t.id,(function(){c.abort(),t.error&&p.abort(),c=r.requests.run((function(){return p.start(),function(){}}))}))})).catch((function(e){throw r.uppy.emit("upload-error",t,e),e}))},o.uploadRemote=function(t,e,n){var r=this;this.resetUploaderReferences(t.id);var o=i({},this.opts);return t.tus&&i(o,t.tus),this.uppy.emit("upload-started",t),this.uppy.log(t.remote.url),t.serverToken?this.connectToServerSocket(t):new Promise((function(e,n){new(t.remote.providerOptions.provider?p:c)(r.uppy,t.remote.providerOptions).post(t.remote.url,i({},t.remote.body,{endpoint:o.endpoint,uploadUrl:o.uploadUrl,protocol:"tus",size:t.data.size,headers:o.headers,metadata:t.meta})).then((function(e){return r.uppy.setFileState(t.id,{serverToken:e.token}),t=r.uppy.getFile(t.id),r.connectToServerSocket(t)})).then((function(){e()})).catch((function(e){r.uppy.emit("upload-error",t,e),n(e)}))}))},o.connectToServerSocket=function(t){var e=this;return new Promise((function(n,r){var o=t.serverToken,s=f(t.remote.companionUrl),a=new d({target:s+"/api/"+o,autoOpen:!1});e.uploaderSockets[t.id]=a,e.uploaderEvents[t.id]=new m(e.uppy),e.onFileRemove(t.id,(function(){l.abort(),a.send("pause",{}),a.send("cancel",{}),e.resetUploaderReferences(t.id),n("upload "+t.id+" was removed")})),e.onPause(t.id,(function(t){t?(l.abort(),a.send("pause",{})):(l.abort(),l=e.requests.run((function(){return a.send("resume",{}),function(){}})))})),e.onPauseAll(t.id,(function(){l.abort(),a.send("pause",{})})),e.onCancelAll(t.id,(function(){l.abort(),a.send("pause",{}),a.send("cancel",{}),e.resetUploaderReferences(t.id),n("upload "+t.id+" was canceled")})),e.onResumeAll(t.id,(function(){l.abort(),t.error&&a.send("pause",{}),l=e.requests.run((function(){return a.send("resume",{}),function(){}}))})),e.onRetry(t.id,(function(){a.isOpen&&(a.send("pause",{}),a.send("resume",{}))})),e.onRetryAll(t.id,(function(){a.isOpen&&(a.send("pause",{}),a.send("resume",{}))})),a.on("progress",(function(n){return h(e,n,t)})),a.on("error",(function(n){var o=n.error.message,s=i(new Error(o),{cause:n.error});e.opts.useFastRemoteRetry?a.close():(e.resetUploaderReferences(t.id),e.uppy.setFileState(t.id,{serverToken:null})),e.uppy.emit("upload-error",t,s),l.done(),r(s)})),a.on("success",(function(r){var o={uploadURL:r.url};e.uppy.emit("upload-success",t,o),e.resetUploaderReferences(t.id),l.done(),n()}));var l=e.requests.run((function(){return a.open(),t.isPaused&&a.send("pause",{}),function(){}}))}))},o.onReceiveUploadUrl=function(t,e){var n=this.uppy.getFile(t.id);n&&(n.tus&&n.tus.uploadUrl===e||(this.uppy.log("[Tus] Storing upload url"),this.uppy.setFileState(n.id,{tus:i({},n.tus,{uploadUrl:e})})))},o.onFileRemove=function(t,e){this.uploaderEvents[t].on("file-removed",(function(n){t===n.id&&e(n.id)}))},o.onPause=function(t,e){this.uploaderEvents[t].on("upload-pause",(function(n,r){t===n&&e(r)}))},o.onRetry=function(t,e){this.uploaderEvents[t].on("upload-retry",(function(n){t===n&&e()}))},o.onRetryAll=function(t,e){var n=this;this.uploaderEvents[t].on("retry-all",(function(r){n.uppy.getFile(t)&&e()}))},o.onPauseAll=function(t,e){var n=this;this.uploaderEvents[t].on("pause-all",(function(){n.uppy.getFile(t)&&e()}))},o.onCancelAll=function(t,e){var n=this;this.uploaderEvents[t].on("cancel-all",(function(){n.uppy.getFile(t)&&e()}))},o.onResumeAll=function(t,e){var n=this;this.uploaderEvents[t].on("resume-all",(function(){n.uppy.getFile(t)&&e()}))},o.uploadFiles=function(t){var e=this,n=t.map((function(n,r){var o=r+1,i=t.length;return"error"in n&&n.error?Promise.reject(new Error(n.error)):n.isRemote?e.uploadRemote(n,o,i):e.upload(n,o,i)}));return g(n)},o.handleUpload=function(t){var e=this;if(0===t.length)return this.uppy.log("[Tus] No files to upload"),Promise.resolve();0===this.opts.limit&&this.uppy.log("[Tus] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/tus/#limit-0","warning"),this.uppy.log("[Tus] Uploading...");var n=t.map((function(t){return e.uppy.getFile(t)}));return this.uploadFiles(n).then((function(){return null}))},o.install=function(){this.uppy.setState({capabilities:i({},this.uppy.getState().capabilities,{resumableUploads:!0})}),this.uppy.addUploader(this.handleUpload),this.uppy.on("reset-progress",this.handleResetProgress),this.opts.autoRetry&&this.uppy.on("back-online",this.uppy.retryAll)},o.uninstall=function(){this.uppy.setState({capabilities:i({},this.uppy.getState().capabilities,{resumableUploads:!1})}),this.uppy.removeUploader(this.handleUpload),this.opts.autoRetry&&this.uppy.off("back-online",this.uppy.retryAll)},r}(a),r.VERSION="1.8.2",o)},,,function(t,e,n){var r,o;function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var a=n(0).Plugin,l=n(4),u=n(59),p=n(12),c=n(63),d=n(64);t.exports=(o=r=function(t){var e,n;function r(e,n){var r;(r=t.call(this,e,n)||this).startUpload=function(){return r.uppy.upload().catch((function(){}))},r.id=r.opts.id||"StatusBar",r.title="StatusBar",r.type="progressindicator",r.defaultLocale={strings:{uploading:"Uploading",upload:"Upload",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",retryUpload:"Retry upload",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"}}};return r.opts=i({},{target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null},n),r.i18nInit(),r.render=r.render.bind(s(r)),r.install=r.install.bind(s(r)),r}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.setOptions=function(e){t.prototype.setOptions.call(this,e),this.i18nInit()},o.i18nInit=function(){this.translator=new l([this.defaultLocale,this.uppy.locale,this.opts.locale]),this.i18n=this.translator.translate.bind(this.translator),this.setPluginState()},o.getTotalSpeed=function(t){var e=0;return t.forEach((function(t){e+=c(t.progress)})),e},o.getTotalETA=function(t){var e=this.getTotalSpeed(t);if(0===e)return 0;var n=t.reduce((function(t,e){return t+d(e.progress)}),0);return Math.round(n/e*10)/10},o.getUploadingState=function(t,e,n){if(t)return p.STATE_ERROR;if(e)return p.STATE_COMPLETE;for(var r=p.STATE_WAITING,o=Object.keys(n),i=0;i<o.length;i++){var s=n[o[i]].progress;if(s.uploadStarted&&!s.uploadComplete)return p.STATE_UPLOADING;s.preprocess&&r!==p.STATE_UPLOADING&&(r=p.STATE_PREPROCESSING),s.postprocess&&r!==p.STATE_UPLOADING&&r!==p.STATE_PREPROCESSING&&(r=p.STATE_POSTPROCESSING)}return r},o.render=function(t){var e=t.capabilities,n=t.files,r=t.allowNewUpload,o=t.totalProgress,i=t.error,s=Object.keys(n).map((function(t){return n[t]})),a=s.filter((function(t){return!t.progress.uploadStarted&&!t.progress.preprocess&&!t.progress.postprocess})),l=s.filter((function(t){return t.progress.uploadStarted})).filter((function(t){return t.isPaused})),p=s.filter((function(t){return t.progress.uploadComplete})),c=s.filter((function(t){return t.error})),d=s.filter((function(t){return!t.progress.uploadComplete&&t.progress.uploadStarted})),h=d.filter((function(t){return!t.isPaused})),f=s.filter((function(t){return t.progress.uploadStarted||t.progress.preprocess||t.progress.postprocess})),g=s.filter((function(t){return t.progress.preprocess||t.progress.postprocess})),m=this.getTotalETA(h),y=0,v=0;f.forEach((function(t){y+=t.progress.bytesTotal||0,v+=t.progress.bytesUploaded||0}));var b=f.length>0,w=100===o&&p.length===Object.keys(n).length&&0===g.length,S=i&&c.length===s.length,P=0!==d.length&&l.length===d.length,O=d.length>0,_=e.resumableUploads||!1,U=!1!==e.uploadProgress;return u({error:i,uploadState:this.getUploadingState(S,w,t.files||{}),allowNewUpload:r,totalProgress:o,totalSize:y,totalUploadedSize:v,isAllComplete:w,isAllPaused:P,isAllErrored:S,isUploadStarted:b,isUploadInProgress:O,complete:p.length,newFiles:a.length,numUploads:f.length,totalETA:m,files:n,i18n:this.i18n,pauseAll:this.uppy.pauseAll,resumeAll:this.uppy.resumeAll,retryAll:this.uppy.retryAll,cancelAll:this.uppy.cancelAll,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:_,supportsUploadProgress:U,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})},o.install=function(){var t=this.opts.target;t&&this.mount(t,this)},o.uninstall=function(){this.unmount()},r}(a),r.VERSION="1.8.1",o)},function(t,e,n){var r,o;function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var s=n(0).Plugin,a=n(2).h;t.exports=(o=r=function(t){var e,n;function r(e,n){var r;(r=t.call(this,e,n)||this).render=function(t){var e=t.info,n=e.isHidden,o=e.message,i=e.details;return a("div",{class:"uppy uppy-Informer","aria-hidden":n},a("p",{role:"alert"},o," ",i&&a("span",{"aria-label":i,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onclick:function(){alert(o+" \n\n "+i)},onMouseOver:function(){clearTimeout(r.uppy.infoTimeoutID)},onMouseLeave:function(){r.uppy.infoTimeoutID=setTimeout(r.uppy.hideInfo,2e3)}},"?")))},r.type="progressindicator",r.id=r.opts.id||"Informer",r.title="Informer";return r.opts=i({},{},n),r}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r.prototype.install=function(){var t=this.opts.target;t&&this.mount(t,this)},r}(s),r.VERSION="1.5.14",o)},,,,,,,,,,,,,function(t,e){function n(){return(n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var r=function(){function t(){this.state={},this.callbacks=[]}var e=t.prototype;return e.getState=function(){return this.state},e.setState=function(t){var e=n({},this.state),r=n({},this.state,t);this.state=r,this._publish(e,r,t)},e.subscribe=function(t){var e=this;return this.callbacks.push(t),function(){e.callbacks.splice(e.callbacks.indexOf(t),1)}},e._publish=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.callbacks.forEach((function(t){t.apply(void 0,e)}))},t}();r.VERSION="1.2.4",t.exports=function(){return new r}},function(t,e,n){var r=n(10),o=n(34);t.exports=function(t){var e=t.name?r(t.name).extension:null;return e=e?e.toLowerCase():null,t.type?t.type:e&&o[e]?o[e]:"application/octet-stream"}},function(t,e){t.exports={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"}},function(t,e){function n(t){var e="";return t.replace(/[^A-Z0-9]/gi,(function(t){return e+="-"+function(t){return t.charCodeAt(0).toString(32)}(t),"/"}))+e}t.exports=function(t){var e="uppy";return"string"==typeof t.name&&(e+="-"+n(t.name.toLowerCase())),void 0!==t.type&&(e+="-"+t.type),t.meta&&"string"==typeof t.meta.relativePath&&(e+="-"+n(t.meta.relativePath.toLowerCase())),void 0!==t.data.size&&(e+="-"+t.data.size),void 0!==t.data.lastModified&&(e+="-"+t.data.lastModified),e}},function(t,e){t.exports=function(t){if(null==t&&(t="undefined"!=typeof navigator?navigator.userAgent:null),!t)return!0;var e=/Edge\/(\d+\.\d+)/.exec(t);if(!e)return!0;var n=e[1].split("."),r=n[0],o=n[1];return r=parseInt(r,10),o=parseInt(o,10),r<15||15===r&&o<15063||(r>18||18===r&&o>=18218)}},function(t,e,n){var r=n(38),o={debug:function(){},warn:function(){},error:function(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(t=console).error.apply(t,["[Uppy] ["+r()+"]"].concat(n))}},i={debug:function(){for(var t=console.debug||console.log,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];t.call.apply(t,[console,"[Uppy] ["+r()+"]"].concat(n))},warn:function(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(t=console).warn.apply(t,["[Uppy] ["+r()+"]"].concat(n))},error:function(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(t=console).error.apply(t,["[Uppy] ["+r()+"]"].concat(n))}};t.exports={justErrorsLogger:o,debugLogger:i}},function(t,e){function n(t){return 2!==t.length?0+t:t}t.exports=function(){var t=new Date;return n(t.getHours().toString())+":"+n(t.getMinutes().toString())+":"+n(t.getSeconds().toString())}},function(t,e,n){function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var o=n(2),i=n(40);t.exports=function(){function t(t,e){this.uppy=t,this.opts=e||{},this.update=this.update.bind(this),this.mount=this.mount.bind(this),this.install=this.install.bind(this),this.uninstall=this.uninstall.bind(this)}var e=t.prototype;return e.getPluginState=function(){return this.uppy.getState().plugins[this.id]||{}},e.setPluginState=function(t){var e,n=this.uppy.getState().plugins;this.uppy.setState({plugins:r({},n,(e={},e[this.id]=r({},n[this.id],t),e))})},e.setOptions=function(t){this.opts=r({},this.opts,t),this.setPluginState()},e.update=function(t){void 0!==this.el&&this._updateUI&&this._updateUI(t)},e.afterUpdate=function(){},e.onMount=function(){},e.mount=function(e,n){var r,s,a,l,u=this,p=n.id,c=i(e);if(c)return this.isTargetDOMEl=!0,this.rerender=function(t){u.uppy.getPlugin(u.id)&&(u.el=o.render(u.render(t),c,u.el),u.afterUpdate())},this._updateUI=(r=this.rerender,s=null,a=null,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return a=e,s||(s=Promise.resolve().then((function(){return s=null,r.apply(void 0,a)}))),s}),this.uppy.log("Installing "+p+" to a DOM element '"+e+"'"),this.opts.replaceTargetContent&&(c.innerHTML=""),this.el=o.render(this.render(this.uppy.getState()),c),this.onMount(),this.el;if("object"==typeof e&&e instanceof t)l=e;else if("function"==typeof e){var d=e;this.uppy.iteratePlugins((function(t){if(t instanceof d)return l=t,!1}))}if(l)return this.uppy.log("Installing "+p+" to "+l.id),this.parent=l,this.el=l.addTarget(n),this.onMount(),this.el;this.uppy.log("Not installing "+p);var h="Invalid target option given to "+p+".";throw h+="function"==typeof e?" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":"If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(h)},e.render=function(t){throw new Error("Extend the render method to add your plugin to a DOM element")},e.addTarget=function(t){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")},e.unmount=function(){this.isTargetDOMEl&&this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},e.install=function(){},e.uninstall=function(){this.unmount()},t}()},function(t,e,n){var r=n(41);t.exports=function(t,e){return void 0===e&&(e=document),"string"==typeof t?e.querySelector(t):r(t)?t:void 0}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&t.nodeType===Node.ELEMENT_NODE}},function(t,e){t.exports=function(t){return Array.prototype.slice.call(t||[],0)}},,,function(t,e,n){"use strict";var r=n(6),o=n(48),i=n(50),s=n(51);t.exports={RequestClient:r,Provider:o,SearchProvider:i,Socket:s}},function(t,e,n){"use strict";function r(t){var e="function"==typeof Map?new Map:void 0;return(r=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return o(t,arguments,a(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,t)})(t)}function o(t,e,n){return(o=i()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&s(o,n.prototype),o}).apply(null,arguments)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){var e,n;function r(){var e;return(e=t.call(this,"Authorization required")||this).name="AuthError",e.isAuthError=!0,e}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r}(r(Error));t.exports=l},function(t,e,n){var r=n(11);t.exports=function(){return fetch.apply(void 0,arguments).catch((function(t){throw"AbortError"===t.name?t:new r(t)}))}},function(t,e,n){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var o=n(6),i=n(49);t.exports=function(t){var e,n;function o(e,n){var r;return(r=t.call(this,e,n)||this).provider=n.provider,r.id=r.provider,r.name=r.opts.name||r.id.split("-").map((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})).join(" "),r.pluginId=r.opts.pluginId,r.tokenKey="companion-"+r.pluginId+"-auth-token",r}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var s=o.prototype;return s.headers=function(){return Promise.all([t.prototype.headers.call(this),this.getAuthToken()]).then((function(t){return r({},t[0],{"uppy-auth-token":t[1]})}))},s.onReceiveResponse=function(e){e=t.prototype.onReceiveResponse.call(this,e);var n=this.uppy.getPlugin(this.pluginId),r=n.getPluginState().authenticated?401!==e.status:e.status<400;return n.setPluginState({authenticated:r}),e},s.setAuthToken=function(t){return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey,t)},s.getAuthToken=function(){return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey)},s.authUrl=function(){return this.hostname+"/"+this.id+"/connect"},s.fileUrl=function(t){return this.hostname+"/"+this.id+"/get/"+t},s.list=function(t){return this.get(this.id+"/list/"+(t||""))},s.logout=function(){var t=this;return this.get(this.id+"/logout").then((function(e){return Promise.all([e,t.uppy.getPlugin(t.pluginId).storage.removeItem(t.tokenKey)])})).then((function(t){return t[0]}))},o.initPlugin=function(t,e,n){if(t.type="acquirer",t.files=[],n&&(t.opts=r({},n,e)),e.serverUrl||e.serverPattern)throw new Error("`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`");if(e.companionAllowedHosts){var o=e.companionAllowedHosts;if(!("string"==typeof o||Array.isArray(o)||o instanceof RegExp))throw new TypeError(t.id+': the option "companionAllowedHosts" must be one of string, Array, RegExp');t.opts.companionAllowedHosts=o}else/^(?!https?:\/\/).*$/i.test(e.companionUrl)?t.opts.companionAllowedHosts="https://"+e.companionUrl.replace(/^\/\//,""):t.opts.companionAllowedHosts=e.companionUrl;t.storage=t.opts.storage||i},o}(o)},function(t,e,n){"use strict";t.exports.setItem=function(t,e){return new Promise((function(n){localStorage.setItem(t,e),n()}))},t.exports.getItem=function(t){return Promise.resolve(localStorage.getItem(t))},t.exports.removeItem=function(t){return new Promise((function(e){localStorage.removeItem(t),e()}))}},function(t,e,n){"use strict";var r=n(6);t.exports=function(t){var e,n;function r(e,n){var r;return(r=t.call(this,e,n)||this).provider=n.provider,r.id=r.provider,r.name=r.opts.name||r.id.split("-").map((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})).join(" "),r.pluginId=r.opts.pluginId,r}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.fileUrl=function(t){return this.hostname+"/search/"+this.id+"/get/"+t},o.search=function(t,e){return e=e?"&"+e:"",this.get("search/"+this.id+"/list?q="+encodeURIComponent(t)+e)},r}(r)},function(t,e,n){var r=n(8);t.exports=function(){function t(t){this.opts=t,this._queued=[],this.isOpen=!1,this.emitter=r(),this._handleMessage=this._handleMessage.bind(this),this.close=this.close.bind(this),this.emit=this.emit.bind(this),this.on=this.on.bind(this),this.once=this.once.bind(this),this.send=this.send.bind(this),t&&!1===t.autoOpen||this.open()}var e=t.prototype;return e.open=function(){var t=this;this.socket=new WebSocket(this.opts.target),this.socket.onopen=function(e){for(t.isOpen=!0;t._queued.length>0&&t.isOpen;){var n=t._queued[0];t.send(n.action,n.payload),t._queued=t._queued.slice(1)}},this.socket.onclose=function(e){t.isOpen=!1},this.socket.onmessage=this._handleMessage},e.close=function(){this.socket&&this.socket.close()},e.send=function(t,e){this.isOpen?this.socket.send(JSON.stringify({action:t,payload:e})):this._queued.push({action:t,payload:e})},e.on=function(t,e){this.emitter.on(t,e)},e.emit=function(t,e){this.emitter.emit(t,e)},e.once=function(t,e){this.emitter.once(t,e)},e._handleMessage=function(t){try{var e=JSON.parse(t.data);this.emit(e.action,e.payload)}catch(t){console.log(t)}},t}()},function(t,e,n){var r=n(5);t.exports=r((function(t,e,n){var r=e.progress,o=e.bytesUploaded,i=e.bytesTotal;r&&(t.uppy.log("Upload progress: "+r),t.uppy.emit("upload-progress",n,{uploader:t,bytesUploaded:o,bytesTotal:i}))}),300,{leading:!0,trailing:!0})},function(t,e){t.exports=function(t){var e=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/i.exec(t)[1];return(/^http:\/\//i.test(t)?"ws":"wss")+"://"+e}},function(t,e){t.exports=function(t){var e=[],n=[];function r(t){e.push(t)}function o(t){n.push(t)}return Promise.all(t.map((function(t){return t.then(r,o)}))).then((function(){return{successful:e,failed:n}}))}},function(t,e){t.exports=function(){function t(t){this._events=[],this._emitter=t}var e=t.prototype;return e.on=function(t,e){return this._events.push([t,e]),this._emitter.on(t,e)},e.remove=function(){var t=this;this._events.forEach((function(e){var n=e[0],r=e[1];t._emitter.off(n,r)}))},t}()},function(t,e){t.exports=function(t){return!!t&&(0!==t.readyState&&4!==t.readyState||0===t.status)}},function(t,e){function n(){return new Error("Cancelled")}t.exports=function(){function t(t){this.limit="number"!=typeof t||0===t?1/0:t,this.activeRequests=0,this.queuedHandlers=[]}var e=t.prototype;return e._call=function(t){var e=this;this.activeRequests+=1;var n,r=!1;try{n=t()}catch(t){throw this.activeRequests-=1,t}return{abort:function(){r||(r=!0,e.activeRequests-=1,n(),e._queueNext())},done:function(){r||(r=!0,e.activeRequests-=1,e._queueNext())}}},e._queueNext=function(){var t=this;Promise.resolve().then((function(){t._next()}))},e._next=function(){if(!(this.activeRequests>=this.limit)&&0!==this.queuedHandlers.length){var t=this.queuedHandlers.shift(),e=this._call(t.fn);t.abort=e.abort,t.done=e.done}},e._queue=function(t,e){var n=this;void 0===e&&(e={});var r={fn:t,priority:e.priority||0,abort:function(){n._dequeue(r)},done:function(){throw new Error("Cannot mark a queued request as done: this indicates a bug")}},o=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}(this.queuedHandlers,(function(t){return r.priority>t.priority}));return-1===o?this.queuedHandlers.push(r):this.queuedHandlers.splice(o,0,r),r},e._dequeue=function(t){var e=this.queuedHandlers.indexOf(t);-1!==e&&this.queuedHandlers.splice(e,1)},e.run=function(t,e){return this.activeRequests<this.limit?this._call(t):this._queue(t,e)},e.wrapPromiseFunction=function(t,e){var r=this;return function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];var a,l=new Promise((function(o,s){a=r.run((function(){var e,r;try{r=Promise.resolve(t.apply(void 0,i))}catch(t){r=Promise.reject(t)}return r.then((function(t){e?s(e):(a.done(),o(t))}),(function(t){e?s(e):(a.done(),s(t))})),function(){e=n()}}),e)}));return l.abort=function(){a.abort()},l}},t}()},function(t,e,n){var r=n(13);t.exports=function(t){return function(e,n){if("undefined"!=typeof window&&(void 0!==window.PhoneGap||void 0!==window.Cordova||void 0!==window.cordova)||"undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase())return r.defaultOptions.fingerprint(e,n);var o=["tus",t.id,n.endpoint].join("-");return Promise.resolve(o)}}},function(t,e,n){function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var o=n(5),i=n(60),s=n(12),a=n(3),l=n(61),u=n(2).h;t.exports=function(t){var e,n,o=t=t||{},a=o.newFiles,l=o.allowNewUpload,g=o.isUploadInProgress,y=o.isAllPaused,v=o.resumableUploads,b=o.error,O=o.hideUploadButton,_=o.hidePauseResumeButton,U=o.hideCancelButton,A=o.hideRetryButton,T=t.uploadState,E=t.totalProgress;if(T===s.STATE_PREPROCESSING||T===s.STATE_POSTPROCESSING){var x=function(t){var e=[];Object.keys(t).forEach((function(n){var r=t[n].progress;r.preprocess&&e.push(r.preprocess),r.postprocess&&e.push(r.postprocess)}));var n=e[0];return{mode:n.mode,message:n.message,value:e.filter((function(t){return"determinate"===t.mode})).reduce((function(t,e,n,r){return t+e.value/r.length}),0)}}(t.files);"determinate"===(e=x.mode)&&(E=100*x.value),n=m(x)}else T===s.STATE_COMPLETE?n=S(t):T===s.STATE_UPLOADING?(t.supportsUploadProgress||(e="indeterminate",E=null),n=w(t)):T===s.STATE_ERROR&&(E=void 0,n=P(t));var F="number"==typeof E?E:100,R=T===s.STATE_WAITING&&t.hideUploadButton||T===s.STATE_WAITING&&!t.newFiles>0||T===s.STATE_COMPLETE&&t.hideAfterFinish,I=!b&&a&&!g&&!y&&l&&!O,k=!U&&T!==s.STATE_WAITING&&T!==s.STATE_COMPLETE,j=v&&!_&&T===s.STATE_UPLOADING,C=b&&!A,N=t.doneButtonHandler&&T===s.STATE_COMPLETE,B="uppy-StatusBar-progress\n                           "+(e?"is-"+e:""),L=i({"uppy-Root":t.isTargetDOMEl},"uppy-StatusBar","is-"+T);return u("div",{class:L,"aria-hidden":R},u("div",{class:B,style:{width:F+"%"},role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":E}),n,u("div",{class:"uppy-StatusBar-actions"},I?u(p,r({},t,{uploadState:T})):null,C?u(c,t):null,j?u(h,t):null,k?u(d,t):null,N?u(f,t):null))};var p=function(t){var e=i("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":t.uploadState===s.STATE_WAITING});return u("button",{type:"button",class:e,"aria-label":t.i18n("uploadXFiles",{smart_count:t.newFiles}),onclick:t.startUpload,"data-uppy-super-focusable":!0},t.newFiles&&t.isUploadStarted?t.i18n("uploadXNewFiles",{smart_count:t.newFiles}):t.i18n("uploadXFiles",{smart_count:t.newFiles}))},c=function(t){return u("button",{type:"button",class:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":t.i18n("retryUpload"),onclick:t.retryAll,"data-uppy-super-focusable":!0},u("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},u("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),t.i18n("retry"))},d=function(t){return u("button",{type:"button",class:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:t.i18n("cancel"),"aria-label":t.i18n("cancel"),onclick:t.cancelAll,"data-uppy-super-focusable":!0},u("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},u("g",{fill:"none","fill-rule":"evenodd"},u("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),u("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))},h=function(t){var e=t.isAllPaused,n=t.i18n,r=n(e?"resume":"pause");return u("button",{title:r,"aria-label":r,class:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onclick:function(){return function(t){if(!t.isAllComplete)return t.resumableUploads?t.isAllPaused?t.resumeAll():t.pauseAll():t.cancelAll()}(t)},"data-uppy-super-focusable":!0},u("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},u("g",{fill:"none","fill-rule":"evenodd"},u("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),u("path",e?{fill:"#FFF",d:"M6 4.25L11.5 8 6 11.75z"}:{d:"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z",fill:"#FFF"}))))},f=function(t){var e=t.i18n;return u("button",{type:"button",class:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:t.doneButtonHandler,"data-uppy-super-focusable":!0},e("done"))},g=function(){return u("svg",{class:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},u("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0","fill-rule":"evenodd"}))},m=function(t){var e=Math.round(100*t.value);return u("div",{class:"uppy-StatusBar-content"},u(g,null),"determinate"===t.mode?e+"% Â· ":"",t.message)},y=function(t){return u("div",{class:"uppy-StatusBar-statusSecondary"},t.i18n("filesUploadedOfTotal",{complete:t.complete,smart_count:t.numUploads}))},v=function(t){var e=i("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return u("div",{class:"uppy-StatusBar-statusSecondary"},u("div",{class:"uppy-StatusBar-statusSecondaryHint"},t.i18n("xMoreFilesAdded",{smart_count:t.newFiles})),u("button",{type:"button",class:e,"aria-label":t.i18n("uploadXFiles",{smart_count:t.newFiles}),onclick:t.startUpload},t.i18n("upload")))},b=o((function(t){var e=t.numUploads>1;return u("div",{class:"uppy-StatusBar-statusSecondary"},e&&t.i18n("filesUploadedOfTotal",{complete:t.complete,smart_count:t.numUploads}),u("span",{class:"uppy-StatusBar-additionalInfo"},e&&" Â· ",t.i18n("dataUploadedOfTotal",{complete:a(t.totalUploadedSize),total:a(t.totalSize)})," Â· ",t.i18n("xTimeLeft",{time:l(t.totalETA)})))}),500,{leading:!0,trailing:!0}),w=function(t){if(!t.isUploadStarted||t.isAllComplete)return null;var e=t.isAllPaused?t.i18n("paused"):t.i18n("uploading"),n=t.newFiles&&t.isUploadStarted;return u("div",{class:"uppy-StatusBar-content","aria-label":e,title:e},t.isAllPaused?null:u(g,null),u("div",{class:"uppy-StatusBar-status"},u("div",{class:"uppy-StatusBar-statusPrimary"},t.supportsUploadProgress?e+": "+t.totalProgress+"%":e),t.isAllPaused||n||!t.showProgressDetails?null:t.supportsUploadProgress?u(b,t):u(y,t),n?u(v,t):null))},S=function(t){t.totalProgress;var e=t.i18n;return u("div",{class:"uppy-StatusBar-content",role:"status",title:e("complete")},u("div",{class:"uppy-StatusBar-status"},u("div",{class:"uppy-StatusBar-statusPrimary"},u("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},u("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),e("complete"))))},P=function(t){var e=t.error,n=(t.retryAll,t.hideRetryButton,t.i18n);return u("div",{class:"uppy-StatusBar-content",role:"alert",title:n("uploadFailed")},u("div",{class:"uppy-StatusBar-status"},u("div",{class:"uppy-StatusBar-statusPrimary"},u("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},u("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),n("uploadFailed"))),u("span",{class:"uppy-StatusBar-details","aria-label":e,"data-microtip-position":"top-right","data-microtip-size":"medium",role:"tooltip",onclick:function(){var t=n("uploadFailed")+" \n\n "+e;alert(t)}},"?"))}},,function(t,e,n){var r=n(62);t.exports=function(t){var e=r(t),n=e.hours?e.hours+"h ":"",o=e.hours?("0"+e.minutes).substr(-2):e.minutes,i=o?o+"m":"",s=o?("0"+e.seconds).substr(-2):e.seconds;return""+n+i+(e.hours?"":o?" "+s+"s":s+"s")}},function(t,e){t.exports=function(t){return{hours:Math.floor(t/3600)%24,minutes:Math.floor(t/60)%60,seconds:Math.floor(t%60)}}},function(t,e){t.exports=function(t){if(!t.bytesUploaded)return 0;var e=new Date-t.uploadStarted;return t.bytesUploaded/(e/1e3)}},function(t,e){t.exports=function(t){return t.bytesTotal-t.bytesUploaded}}]]);